!function(e){var t={};function a(n){if(t[n])return t[n].exports;var r=t[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,a),r.l=!0,r.exports}a.m=e,a.c=t,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)a.d(n,r,function(t){return e[t]}.bind(null,r));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="",a(a.s=8)}([function(e,t,a){"use strict";var n={usesFreq:!0,usesGain:!1,usesQ:!1};var r={pe:"peaking",ba:"bandpass",no:"notch",al:"allpass",lo:"lowpass",hi:"highpass",lowsh:"lowshelf",highs:"highshelf"},s={lowpass:"fq",highpass:"fq",bandpass:"fq",lowshelf:"fg",highshelf:"fg",peaking:"fqg",notch:"fq",allpass:"fq"};function i(e,t){var a=t.split("-"),n=a[1],r=parseFloat(a[2]);"number"!=typeof r&&(r=5),d[n]||(console.warn("unknown curve type: "+n),n="linear",r=5);var s=n+"-"+r;v[s]||(v[s]=d[n](r));var i=v[s],o=e.createWaveShaper();return o.curve=i,o}var o,v={},d={};function u(e,t,a,n){return e+(t-e)*Math.pow(a,n)}function w(e,t,a){return t<e?e:t>a?a:t}function l(e,t){var a;return o!==e&&(o=e,h={},g={}),"w"===(t=t.toLowerCase())[0]&&(a=function(e){var t=o.createOscillator();e.length<2&&(e+="9");return t.setPeriodicWave(function(e){if(!h[e]){for(var t=new Float32Array(e.length),a=new Float32Array(e.length),n=1;n<e.length;++n){var r=parseFloat(e[n])/9;t[n]=r*r}h[e]=o.createPeriodicWave(a,t)}return h[e]}(e)),t}(t)),"p"===t[0]&&(a=function(e){var t=Math.round(parseInt(e.substr(1))||50);t=Math.min(Math.max(t,1),99);var a=o.createOscillator();a.type="sawtooth";var n=o.createWaveShaper();return n.curve=function(e){if(f[e])return f[e];for(var t=new Float32Array(256),a=256*e/100,n=0;n<256;n++)t[n]=n<a?1:-1;return f[e]=t}(t),a.connect(n),{start:e=>a.start(e),frequency:a.frequency,connect:e=>n.connect(e),disconnect:()=>{n.disconnect(),a.disconnect(),a.stop()},input:a}}(t)),"n"===t[0]&&(a=function(e){var t=o.createBufferSource(),a=m[e]||"n0";g[a]||(g[a]=function(e){var t={n0:1,n1:1.5,nb:1.5,np:1.5}[e]*o.sampleRate|0,a=o.createBuffer(1,t,o.sampleRate),n=a.getChannelData(0);"n0"===e&&function(e){for(var t=0;t<e.length;t++)e[t]=2*Math.random()-1}(n);"nb"===e&&function(e){for(var t=0,a=0,n=0;n<e.length;n++){var r=2*Math.random()-1;t=(t+.02*r)/1.02,a=Math.max(a,Math.abs(t)),e[n]=t}e.forEach((t,n)=>{e[n]/=a})}(n);"np"===e&&function(e){var t=0,a=0,n=0,r=0,s=0,i=0,o=0,v=0;e.forEach((d,u)=>{var w=2*Math.random()-1;t=.99886*t+.0555179*w,a=.99332*a+.0750759*w,n=.969*n+.153852*w,r=.8665*r+.3104856*w,s=.55*s+.5329522*w,i=-.7616*i-.016898*w,e[u]=t+a+n+r+s+i+o+.5362*w,o=.115926*w,v=Math.max(v,Math.abs(e[u]))}),e.forEach((t,a)=>{e[a]/=v})}(n);"n1"===e&&function(e){for(var t=q(1),a=0,n=0;n<24;n++){t=q(t);var r=p(e,1+n%16,2+10*t,.25);a=Math.max(a,r)}e.forEach((t,n)=>{e[n]/=a})}(n);return a}(a));return t.buffer=g[a],t.loop=!0,t}(t)),a||(a=function(e){var t=o.createOscillator();return t.type="t"===e[0]?"triangle":c[e.substr(0,2)]||"sine",t}(t)),a}d.linear=e=>new Float32Array([-1,1]),d.clip=e=>{var t=e/10;return new Float32Array([-t,-t,0,t,t])},d.boost=e=>{for(var t=Math.ceil(e/2),a=new Float32Array(2*t+1),n=0;n<a.length;n++)a[n]=n<t?-1:n===t?0:1;return a},d.fold=e=>{var t=e/10;return new Float32Array([0,-t,0,t,0])},d.crush=e=>{for(var t=(e=w(1,e,40))/2,a=new Float32Array(255),n=0;n<255;n++){var r=n/254*2-1;a[n]=Math.round((r+1)*t)/t-1}return a},d.thin=e=>{var t=1+e;t=w(1.5,t,20),console.log("made",t);for(var a=new Float32Array(255),n=0;n<255;n++){var r=2*n/254-1;a[n]=r>0?u(0,1,r,t):u(0,-1,-r,t)}return a},d.fat=e=>{var t=1-e/9;t=w(.05,t,.95);for(var a=new Float32Array(255),n=0;n<255;n++){var r=2*n/254-1;a[n]=r>0?u(0,1,r,t):u(0,-1,-r,t)}return a};var c={si:"sine",sq:"square",sa:"sawtooth",tr:"triangle"};var f={};var h={};var m={n0:"n0",n1:"n1",np:"np",nb:"nb"},g={};var p=(e,t,a,n)=>{for(var r=0,s=2*Math.PI*440/o.sampleRate,i=2*Math.random()*Math.PI,v=2*Math.random()*Math.PI,d=0;d<e.length;d++){var u=d*s,w=y(i+t*u),l=y(v+a*u);e[d]+=w*l*n,r=Math.max(r,Math.abs(e[d]))}return r};function q(e){return(e=(e+Math.sqrt(17))*Math.sqrt(23))-Math.floor(e)}var y=(()=>{for(var e=[],t=512/(2*Math.PI),a=0;a<512;a++)e[a]=Math.sin(a/t);return a=>e[a*t&511]})();class _{constructor(e){this.ctx=e,this.zeroRampTarget=.001}initParam(e,t){var a=this.ctx.currentTime;e.cancelScheduledValues(0),e.setValueAtTime(t,0),a>0&&e.setValueAtTime(t,a),e.__paramEnveloperEvents=[new x(b,t,t,0,a)],O("init:  param base set to",t,"time 0")}startEnvelope(e,t){M(e,this.ctx.currentTime),function(e,t){var a=e.__paramEnveloperEvents,n=a[a.length-1];if(t<=n.t1)return;var r=n.v1;e.setValueAtTime(r,t),a.push(new x(b,r,r,n.t1,t))}(e,t=Math.max(t,this.ctx.currentTime));var a=e.__paramEnveloperEvents,n=k(a,t);a.length=a.indexOf(n)+1,t>0&&e.cancelScheduledValues(t);var r=P(n,t);n.t1=t,n.v1=r,n.type===b?e.setValueAtTime(r,t):n.type===E?e.linearRampToValueAtTime(r,t):n.type===S?(r=r||this.zeroRampTarget,e.exponentialRampToValueAtTime(r,t)):n.type===T&&e.setValueAtTime(r,t),O("start: new envelope from time",t,"val",r)}addHold(e,t){if(t>0){M(e,this.ctx.currentTime);var a=e.__paramEnveloperEvents,n=a[a.length-1];if(n.t1===1/0){var r=n.t0+t;this.startEnvelope(e,r),O("hold:  broke open sweep at time",r)}else{var s=n.v1,i=n.t1,o=s,v=i+t;a.push(new x(b,s,o,i,v)),e.setValueAtTime(s,v),O("hold:  at val",s,"until time",v)}}}addRamp(e,t,a,n){t>1e-4||(t=1e-4),M(e,this.ctx.currentTime);var r=e.__paramEnveloperEvents,s=r[r.length-1],i=s.v1,o=s.t1;if(s.t1===1/0)throw"Error - change scheduled after a sweep with infinite duration";var v=a,d=o+t;n?(i=i||this.zeroRampTarget,v=v||this.zeroRampTarget,e.exponentialRampToValueAtTime(v,d)):e.linearRampToValueAtTime(v,d);var u=n?S:E;r.push(new x(u,i,v,o,d)),O("ramp:  to val",v,"time",d)}addSweep(e,t,a,n){M(e,this.ctx.currentTime);var r,s,i=e.__paramEnveloperEvents,o=i[i.length-1],v=o.v1,d=o.t1;if(o.t1===1/0)throw"Error - change scheduled after a sweep with infinite duration";e.setTargetAtTime(a,d,n),t>0?(r=d+t,s=A(t,v,a,n)):(r=1/0,s=a);var u=new x(T,v,s,d,r);u.k=n,u.tgt=a,i.push(u),O("sweep: to target",a,"from time",d,"to",r)}getValueAtTime(e,t){M(e,this.ctx.currentTime);var a=k(e.__paramEnveloperEvents,t);return t>a.t1?a.v1:P(a,t)}}var b=1,T=2,E=3,S=4;function x(e,t,a,n,r){this.type=e,this.v0=+t,this.v1=+a,this.t0=+n,this.t1=+r,this.k=.1,this.tgt=.1}function M(e,t){var a=e.__paramEnveloperEvents,n=a[a.length-1],r=-1;if(a.some((e,a)=>{if(e.t1<=t)return!0;r=a}),r>=0&&a.splice(0,r+1),0===a.length){var s=n.v1;e.setValueAtTime(s,t),a.push(new x(b,s,s,0,t))}}function k(e,t){var a=null;if(e.some(e=>{if(a=e,t<e.t1)return!0}),!a)throw"Internal problem, time not within event list";return a}function P(e,t){if(e.type===b)return e.v0;var a=t-e.t0;return e.type===E?function(e,t,a,n){return t+(a-t)*e/n}(a,e.v0,e.v1,e.t1-e.t0):e.type===S?function(e,t,a,n){return t*Math.pow(a/t,e/n)}(a,e.v0,e.v1,e.t1-e.t0):e.type===T?A(a,e.v0,e.tgt,e.k):void 0}function A(e,t,a,n){return a+(t-a)*Math.exp(-e/n)}var C,O=()=>{};function D(e,t,a,n,r,s,i,o,v){I("start"),I("PARAM: ",i,"time",r,"needsEnv="+v,"now",e.currentTime),C||(C=new _(e));var d="freq"===i?n:1;"gain"===i&&"freq"===o&&(d=n);var u={type:i,envStarted:!1,attackRampNeeded:!!v,currValue:d,startTime:r,sweeping:!1,releaseTime:-1,releaseTarget:0},w=Array.isArray(s)?s:[s];if(0===w.length&&w.push({}),w.forEach(s=>{if((s=function(e,t){"function"==typeof e&&(e=e());if(F(e))return"freq"===t?{t:0,f:e}:{t:e};return"object"!=typeof e?{}:e||{}}(s,i)).type){N(e,a,s,n,r,i,!1).connect(t)}else{var o=B(s);V(t,o,u,n)}}),u.attackRampNeeded){I("- default attack ramp:");var l=B({a:W.a});V(t,l,u,n)}if(u.envStarted||(I("- no schedules, init to:",u.currValue),C.initParam(t,u.currValue)),v&&u.releaseTime<0&&(u.releaseTime=W.r),u.releaseTime>=0&&(a.envelopes.push({param:t,releaseTime:u.releaseTime,releaseTarget:u.releaseTarget,rootEnvelope:!!v}),I("- stored release:",u.releaseTime,"target",u.releaseTarget)),"freq"===i&&(!o||"freq"===o)){var c=u.currValue/n;0!==c&&a.bendables.push({param:t,mult:c})}u=null,I("end")}function F(e){return"number"==typeof e}function B(e){return L(R,e,"w",0),L(R,e,"t",1),L(R,e,"f",0),L(R,e,"k",0),L(R,e,"a",-1),L(R,e,"h",-1),L(R,e,"s",1),L(R,e,"d",-1),L(R,e,"r",-1),L(R,e,"z",-1),L(R,e,"x",-1),F(e.dr)&&(R.d=R.r=e.dr),F(e.p)&&(R.s=e.p),F(e.q)&&(R.d=e.q),R}var R={};function L(e,t,a,n){var r=t[a];"function"==typeof r&&(r=r()),e[a]=F(r)?r:n}function V(e,t,a,n){var r=t.w>0,s=t.a>=0,i=t.h>0,o=1!==t.s,v=Math.max(0|t.x,1),d=t.k?Math.pow(n/261.625,t.k):1;a.attackRampNeeded&&(i||o)&&(s=!0,t.a<=0&&(t.a=W.a));var u=a.currValue||1;u*=d,r||(v=1);for(var w=a.startTime,l=0;l<v;l++)if(r&&(H(a,e,u),j(a,e,t.w),w+=t.w,I("- wait for",t.w)),l>0&&(u=C.getValueAtTime(e,w)),u=u*t.t+t.f,"freq"===a.type&&u<50&&t.f<0&&(u=100-u,t.f=-t.f),s&&(H(a,e,u),a.sweeping&&j(a,e,0),C.addRamp(e,t.a,u),a.attackRampNeeded=!1,w+=t.a||0,I("- linear ramp to",u,"over",t.a)),i&&(H(a,e,u),j(a,e,t.h),w+=t.h||0,I("- wait for",t.h)),o){H(a,e,u),u*=t.s;var c=t.d>0?t.d:W.d;C.addSweep(e,-1,u,c),a.sweeping=!0,I("- open sweep to",u,"const",c)}a.currValue=u,t.r>=0&&(a.releaseTime=t.r),t.z>=0&&(a.releaseTarget=a.currValue*t.z)}function j(e,t,a){C.addHold(t,a||0),e.sweeping=!1}function H(e,t,a){e.envStarted||(e.attackRampNeeded&&(a=0),C.initParam(t,a),C.startEnvelope(t,e.startTime),e.envStarted=!0,I("- initted param:",a,"time",e.startTime))}var W={w:0,t:1,f:0,k:0,a:.05,h:0,d:.1,s:1,r:.1,z:-1,x:1},I=()=>{},G=!1;function z(e){G||async function(e,t){if(!e.audioWorklet)return!1;var a=$.toString();a=a.replace("extends Object","extends AudioWorkletProcessor"),a+=`; registerProcessor('${t}', BitcrushProcessor)`;try{await e.resume();var n=new Blob([a],{type:"application/javascript"}),r=URL.createObjectURL(n);await e.audioWorklet.addModule(r)}catch(e){return!1}return!0}(e,"bit-crusher").then(e=>{e&&(G=!0)})}class $ extends Object{constructor(){super(),this.phase=0,this.sample=0}static get parameterDescriptors(){return[{name:"depth",defaultValue:5,minValue:1,maxValue:20},{name:"freq",defaultValue:.2,minValue:.01,maxValue:1}]}process(e,t,a){for(var n=e[0],r=t[0],s=a.depth[0]/2,i=a.freq[0],o=1/s,v=this.phase,d=this.sample,u=0;u<n.length;u++)for(var w=n[u],l=r[u],c=0;c<w.length;c++)(v+=i)>=1&&(v-=1,d=Math.round((w[c]+1)*s)*o-1),l[c]=d;return this.phase=v,this.sample=d,!0}}function N(e,t,a,o,v,d,u){var w,c=(a="object"!=typeof(w=a)?{type:""}:w).type||"",f=!0,h=!0,m=!1,g=function(e){return/^shape/i.test(e)}(c);if(g&&(f=!1,h=!1,m=!1,d))throw"Shapers must be at root level of program";var p=function(e){var t=e.substr(0,2).toLowerCase();if(!r[t])return null;var a=s[r[t]];return n.usesGain=a.includes("g"),n.usesQ=a.includes("q"),n}(c);if(p&&(f=p.usesGain,h=p.usesFreq,m=p.usesQ,d))throw"Filters must be at root level of program";var q=p?function(e,t){t=t.toLowerCase();var a=e.createBiquadFilter();return a.type=r[t.substr(0,5)]||r[t.substr(0,2)]||"lowpass",a}(e,c):g?i(e,c):l(e,c);(q.start&&q.start(v),t.nodes.push(q),h)&&D(e,q.frequency||q.playbackRate,t,q.playbackRate?o/440:o,v,a.freq,"freq",d,!1);if(m&&D(e,q.Q,t,o,v,a.Q,"Q",d,!1),a.crush>0){var y=function(e,t,a){if(z(e),t=0|t||5,a=+a||.2,!G)return i(e,`shape-crush-${t}`);var n=new AudioWorkletNode(e,"bit-crusher");return n.parameters.get("depth").value=t,n.parameters.get("freq").value=a,n.isWorklet=!0,n}(e,a.crush,a.crushFreq);t.nodes.push(y),q.connect(y),q=y}if(f){if(!q.gain){var _=e.createGain();t.nodes.push(_),q.connect(_),q=_}p&&(u=!1),D(e,q.gain,t,o,v,a.gain,"gain",d,u)}return q}function Q(e){var t={},a=[],n=new _(e);function r(e){for(;a.length>e;){var n=a.shift();u(t[n]),delete t[n]}}function s(){for(var n=e.currentTime,r=0;r<a.length;r++){var s=a[r],i=t[s];0===i.endTime||n<i.endTime||(u(i),delete t[s],a.splice(r,1),r--)}}this.maxVoices=32,this.play=function(n,i,v,u,w,l){s(),r(this.maxVoices-1);var c=function(t,a,n,r,s){var i=new o(r),v=e.createGain();i.nodes.push(v);for(var d=0;d<t.length;d++){var u=t[d],w=N(e,i,u,a,r,"",!0);w.Q||w.curve||w.isWorklet?(v.connect(w),v=e.createGain(),i.nodes.push(v),w.connect(v)):w.connect(v)}if(1===n)v.connect(s);else{var l=e.createGain();i.nodes.push(l),l.gain.value=n<1?n*n:n,v.connect(l),l.connect(s)}return i}(n,i,v,u,l);return a.push(c.id),t[c.id]=c,w&&d(c,w),c.id},this.bend=function(e,a,n,r){var s=t[e];s&&function(e,t,a,n){if(e.endTime>0)return;e.bendables.forEach(e=>{var r=t*e.mult;e.param.cancelScheduledValues(n),e.param.setTargetAtTime(r,n,a)})}(s,a,n,r)},this.release=function(e,a){var n=t[e];n&&d(n,a)},this.isPlaying=function(e){return!!t[e]},this.releaseAll=function(e){a.forEach(a=>{d(t[a],e)})},this.dispose=function(){r(0),t=null,a=null,clearInterval(i)};var i=setInterval(s,800);function o(e){++v>9999&&(v=1),this.id=v,this.time=+e,this.endTime=0,this.nodes=[],this.envelopes=[],this.bendables=[]}var v=0;function d(e,t){e.endTime>0||(e.endTime=t,e.envelopes.forEach((a,r)=>{var s=a.releaseTime;if(s>=0){var i=a.param;n.startEnvelope(i,t);var o=a.releaseTarget||0;if(n.addSweep(i,-1,o,s),a.rootEnvelope){var v=t+4*s;e.endTime=Math.max(e.endTime,v)}}}))}function u(e){for(;e.nodes.length>0;){var t=e.nodes.pop();t.stop&&t.stop(),t.buffer&&(t.buffer=null),t.gain&&t.gain.cancelScheduledValues(0),t.frequency&&t.frequency.cancelScheduledValues(0),t.playbackRate&&t.playbackRate.cancelScheduledValues(0),t.Q&&t.Q.cancelScheduledValues(0),t.disconnect(),t=null}e.nodes=null,e.envelopes=null,e.bendables=null}}
/*!
 * wasgen: a web audio sound generator
 * @url      github.com/andyhall/wasgen
 * @author   Andy Hall <andy@fenomas.com>
 * @license  ISC
 */function U(e,t,n,r){var s=this;s.version=a(5).version,r||console.log(`wasgen     v${s.version}`);var i=e||new(window.AudioContext||window.webkitAudioContext),o=new Q(i),v=t||i.destination,d=()=>i.currentTime+.05;function u(){w&&w.disconnect(),n||((w=i.createDynamicsCompressor()).threshold.value=-24,w.knee.value=25,w.ratio.value=20,w.attack.value=.003,w.release.value=.25,w.connect(v),s.compressor=w)}this.play=function(e,t,a,n,r,s){return"running"!==i.state&&i.resume(),t=t||440,a=a||1,n=n||d(),r=r||0,s=s||w||v,e=function(e){Array.isArray(e)||(e=[]);for(var t=0;t<e.length;t++)"object"!=typeof e[t]&&(e.splice(t,1),t--);0===e.length&&e.push({});return e}(e),o.play(e,t,a,n,r,s)},this.bend=function(e,t,a,n){t=t||440,a=a||.1,n=n||d(),o.bend(e,t,a,n)},this.release=function(e,t){t=t||d(),o.release(e,t)},this.noteIsPlaying=function(e){return o.isPlaying(e)},this.releaseAll=function(e){e=e||d(),o.releaseAll(e)},this.compressor=null,this.now=function(){return i.currentTime},this.maxVoices=function(e){return e&&(o.maxVoices=e),o.maxVoices},this.destination=function(e){return e&&(v=e,u()),v},this.audioContext=function(e){return e&&(this.dispose(),o=new Q(i=e),v=i.destination,u()),i};var w=null;u(),this.dispose=function(){o.dispose(),o=null,w&&w.disconnect(),w=null,v=null,i=null}}var K=a(1);a.d(t,"c",(function(){return X})),a.d(t,"a",(function(){return J})),a.d(t,"h",(function(){return ae})),a.d(t,"b",(function(){return ne})),a.d(t,"e",(function(){return re})),a.d(t,"g",(function(){return ie})),a.d(t,"f",(function(){return oe})),a.d(t,"d",(function(){return ve}));var X=new(window.AudioContext||window.webkitAudioContext),J=X.createGain();J.connect(X.destination);var Y=!1,Z=new U(X,J,Y);window.gen=Z;var ee=1,te={};function ae(e){if("running"!==X.state&&X.resume(),!te[e]){var t=se(e);if(Array.isArray(K.a[0])){var a=Z.now();te[e]=K.a.map(e=>{var n=e[0].delay||0;return Z.play(e,t,ee,a+n)})}else te[e]=Z.play(K.a,t,ee)}}function ne(e,t){var a=se(t);Z.bend(te[e],a,.2)}function re(e,t){t<1&&(t=Z.now()+t),Array.isArray(te[e])?te[e].forEach(e=>{Z.release(e,t)}):Z.release(te[e],t),te[e]=null}function se(e){return 440*Math.pow(2,(e-69)/12)}function ie(e){ee=e}function oe(e){Y=!e,Z&&Z.dispose(),Z=new U(X,J,Y),window.gen=Z}function ve(){return Z}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return currentProgram}));var _controls__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2),_external_tinySynthInstruments__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(4),_effectPrograms__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(3),currentProgram=[{}],programStr="",instruments=new _external_tinySynthInstruments__WEBPACK_IMPORTED_MODULE_1__.a,presetsPD=document.querySelector("#presets"),effectsPD=document.querySelector("#effects"),redoEffect=document.querySelector("#redoEffect"),addEl=(e,t)=>{var a=document.createElement("option");a.text=t,e.options[e.options.length]=a};function setProgram(e){var t=e.target.selectedOptions[0].text,a=_effectPrograms__WEBPACK_IMPORTED_MODULE_2__.a[t],n=a?a():convertTinySynthProgram(t);currentProgram=n,textEl.value=programToString(currentProgram),Object(_controls__WEBPACK_IMPORTED_MODULE_0__.a)(!0)}Object.keys(_effectPrograms__WEBPACK_IMPORTED_MODULE_2__.a).forEach(e=>addEl(effectsPD,e)),instruments.names.forEach(e=>addEl(presetsPD,e)),presetsPD.addEventListener("change",e=>setProgram(e)),effectsPD.addEventListener("change",e=>setProgram(e)),redoEffect.addEventListener("click",e=>setProgram({target:effectsPD})),currentProgram=convertTinySynthProgram(instruments.names[0]),programStr=programToString(currentProgram);var textEl=document.querySelector("#progText");function convertTinySynthProgram(e){for(var t=instruments.getProg(e),a={g:0,w:"sine",t:1,f:0,v:.5,a:0,h:.01,d:.01,s:0,r:.05,p:1,q:1,k:0},n=["t","f","p","q"],r=["t","f","p","q"],s=["v","a","h","d","s","r","k"],i=["t","a","h","d","s","r","k"],o={w:0,t:1,f:0,k:0,p:1,q:.1,v:1,a:.05,h:0,d:.1,s:.8,r:.1},v=(e,t,a,n)=>{a.forEach((a,r)=>{var s=n[r];Math.abs(e[a]-o[s])>1e-4&&(t[s]=e[a])})},d=t.map(e=>{if((e=Object.assign({},a,e)).g>0&&e.g<=10){var o=Object.assign({},a,t[e.g-1]);/^n/.test(o.w)||(e.v*=o.t)}var d={type:e.w,freq:{},gain:{}};return v(e,d.freq,n,r),v(e,d.gain,s,i),d.freq.q&&!d.freq.p&&delete d.freq.q,e.g>0&&(d.g=e.g),0===e.g&&0===d.gain.a&&(d.gain.a=.005),d}),u=0;u<d.length;u++)if(d[u].g){var w=d[u].g,l=d[w>10?w-11:w-1],c=w>10?"gain":"freq",f=l[c];Array.isArray(f)||(f=[f]),delete d[u].g,f.push(d[u]),l[c]=f,d.splice(u,1),u--}return d}function stringToProgram(str){str=str.split("\n").map(e=>e.replace(/\/\/.*/,"")).join("\n");var rand=(e,t)=>Math.min(e,t)+Math.abs(t-e)*Math.random(),parsed;try{parsed=eval(`var rand = ${rand};  ${str}`)}catch(e){}var okay=parsed&&parsed.length&&parsed[0];return okay&&parsed.forEach(e=>okay=okay&&"object"==typeof e),okay?parsed:null}function programToString(e){return programToString_impl(e,0).split("\n").filter(e=>!/^\s*(\w*:)?\s*{\s*},?\s*$/.test(e)).join("\n")}function programToString_impl(e,t){if(t>10)throw"?";var a="".padEnd(2*(t=t||0)," ");if("string"==typeof e)return`'${e}'`;if("number"==typeof e){var n=Math.abs(e),r=n>10?1:n>1?10:n>.1?100:1e3;return""+Math.round(e*r)/r}if(!e)return"???";if(Array.isArray(e))return`[\n${a}  ${e.map(e=>programToString_impl(e,t+1)).join(`,\n${a}  `)},\n${a}]`;if(e.type){var s=`{ type: '${e.type}',\n${a}  `;return(s+=Object.keys(e).filter(e=>"type"!==e).map(a=>`${a}: `+programToString_impl(e[a],t+1)).join(`,\n${a}  `))+`,\n${a}}`}return"{ "+Object.keys(e).map(a=>`${a}:`+programToString_impl(e[a],t+1)).join(", ")+" }"}textEl.value=programStr,textEl.addEventListener("input",e=>{var t=stringToProgram(e.target.value);textEl.style.backgroundColor=t?"#fff":"#fee",t&&(Object(_controls__WEBPACK_IMPORTED_MODULE_0__.a)(!0),currentProgram=t)})},function(e,t,a){"use strict";a.d(t,"a",(function(){return f}));var n=a(0),r=document.querySelector("#velnum");document.querySelector("#vel").addEventListener("input",e=>{var t=parseFloat(e.target.value);Object(n.g)(t),r.value=Math.round(100*t)/100}),document.querySelector("#compress").addEventListener("input",e=>{Object(n.f)(e.target.checked)}),document.querySelector("#play").onpointerdown=e=>o(e,!0),document.querySelector("#play").onpointerup=e=>o(e,!1),window.onkeydown=e=>o(e,!0),window.onkeyup=e=>o(e,!1);var s="zxcvbnm,./asdfghjkl;'qwertyuiop[]1234567890",i=!1;function o(e,t){if(!e.metaKey&&"Tab"!==e.key){"progText"===document.activeElement.id&&f(!1);var a=document.activeElement;if(!a.type||!a.type.includes("text"))if("SELECT"===a.tagName&&(/arrow/i.test(e.key)||e.preventDefault())," "===e.key&&e.preventDefault(),"Shift"===e.key)i=!!t,t||u(!1,!0,-1);else{var n=e.key&&e.key.toLowerCase()||"q";" "===n&&(n="q");var r=s.indexOf(n);if(r<0){var o=String.fromCharCode(e.keyCode);r=s.indexOf(o)}r>=0&&u(t,i,r)}}}var v=0,d=60;function u(e,t,a){var r=function(e){if(e<0)return 0;var t=[0,2,4,5,7,9,11];return 33+12*Math.floor(e/t.length)+t[e%t.length]}(a);if(e){if(!r)return;v?Object(n.b)(v,r):(Object(n.h)(r),d=r,c=performance.now(),t&&(v=r))}else r&&!v&&Object(n.e)(r),v&&!r&&(Object(n.e)(v),v=0)}var w=0,l=0,c=1;function f(e){w=performance.now(),e&&(l=w)}setInterval((function(){var e=performance.now();e-c<1e3||e-w<400||l<c||(Object(n.h)(d),Object(n.e)(d,.5),c=e)}),250)},function(e,t,a){"use strict";a.d(t,"a",(function(){return s}));var n=(e,t)=>e+(t-e)*Math.random(),r=function(){return arguments[Math.floor(n(0,arguments.length))]},s={jump:function(){var e=r("square","triangle","w9999"),t="square"===e?.4:.8,a=[{t:.5,p:2,q:n(.4,.6)}],s=a[0].q;if(r(0,1)){var i=n(.05,.15);a.push({w:i,t:.5,a:.01}),a.push({p:2,q:n(.2,.5)}),s+=a[2].q}return[{type:e,freq:a,gain:{t:t,a:.01,d:s/2,s:0,r:.15}}]},coin:function(){var e=[{w:n(.05,.1),p:n(1.1,1.5),q:.01}];return r(0,1)&&e.push({w:n(.05,.1),p:n(1.1,1.2),q:.01}),[{type:r("square","triangle","w9999","saw"),freq:e,gain:{t:.5,a:.01,s:0,d:.5,r:.1}}]},laser:function(){var e=[];return r(0,1)&&e.push({w:n(0,.2),p:r(.5,.75,.8),q:n(.25,.5)}),e.push({type:"sine",freq:[n(5,20),{p:n(1,2),q:.5}],gain:n(.05,.3)}),[{type:r("triangle","sine","w999","w99999"),freq:e,gain:{t:.5,a:.01,d:.3,s:0,r:.15}}]},explosion:function(){return[{type:"np",gain:[{t:.5,a:.01,d:.7,s:0,r:.2},{type:"sine",freq:{t:0,f:n(10,30),p:n(1,4),q:n(.2,.6)},gain:{t:.1,d:.5,s:0,r:.2}}]},{type:"lowpass",freq:{t:n(1.5,4),p:n(.1,.3),q:n(.2,.6)}}]},bonk:()=>[{type:"n0",gain:{a:0,d:.05,s:0,r:.02}},{type:"lowpass",freq:{t:2},Q:10},{type:"highpass",freq:{t:.5},Q:10}],kick:()=>[{type:"sine",freq:{p:.3,q:.1},gain:{a:0,h:0,s:0,d:.1,r:.1}},{type:"square",freq:{t:.5},gain:{t:.25,a:0,h:0,s:0,d:.05,r:.02}}],hihat:()=>[{type:"n1",freq:r({},{t:0,f:n(440,880)}),gain:{a:0,s:0,h:0,d:n(.02,.1),r:.05}},{type:"highpass",freq:{t:2},Q:5}],wind:()=>[{type:"n0",gain:{a:1,h:0,d:0,s:1,r:.5}},{type:"lowpass",Q:n(1,10),freq:[{t:1.3},{type:"sine",freq:.25,gain:.2}]},{type:"highpass",Q:n(1,10),freq:[{t:.8},{type:"sine",freq:.21,gain:.2}]}]}},function(e,t,a){"use strict";function n(){var e=r.concat(s).map(e=>e.name),t=e.map(e=>e.toLowerCase());this.names=e,this.getProg=function(e){var a=function(e){for(var a=e.toLowerCase(),n=0;n<t.length;n++)if(t[n].indexOf(a)>-1)return n;return-1}(e);return a<0?i[0]||o[a]:a<i.length?i[a]:(a-=i.length,v[a]||d[a])}}a.d(t,"a",(function(){return n}));var r=[{name:"Acoustic Grand Piano"},{name:"Bright Acoustic Piano"},{name:"Electric Grand Piano"},{name:"Honky-tonk Piano"},{name:"Electric Piano 1"},{name:"Electric Piano 2"},{name:"Harpsichord"},{name:"Clavi"},{name:"Celesta"},{name:"Glockenspiel"},{name:"Music Box"},{name:"Vibraphone"},{name:"Marimba"},{name:"Xylophone"},{name:"Tubular Bells"},{name:"Dulcimer"},{name:"Drawbar Organ"},{name:"Percussive Organ"},{name:"Rock Organ"},{name:"Church Organ"},{name:"Reed Organ"},{name:"Accordion"},{name:"Harmonica"},{name:"Tango Accordion"},{name:"Acoustic Guitar (nylon)"},{name:"Acoustic Guitar (steel)"},{name:"Electric Guitar (jazz)"},{name:"Electric Guitar (clean)"},{name:"Electric Guitar (muted)"},{name:"Overdriven Guitar"},{name:"Distortion Guitar"},{name:"Guitar harmonics"},{name:"Acoustic Bass"},{name:"Electric Bass (finger)"},{name:"Electric Bass (pick)"},{name:"Fretless Bass"},{name:"Slap Bass 1"},{name:"Slap Bass 2"},{name:"Synth Bass 1"},{name:"Synth Bass 2"},{name:"Violin"},{name:"Viola"},{name:"Cello"},{name:"Contrabass"},{name:"Tremolo Strings"},{name:"Pizzicato Strings"},{name:"Orchestral Harp"},{name:"Timpani"},{name:"String Ensemble 1"},{name:"String Ensemble 2"},{name:"SynthStrings 1"},{name:"SynthStrings 2"},{name:"Choir Aahs"},{name:"Voice Oohs"},{name:"Synth Voice"},{name:"Orchestra Hit"},{name:"Trumpet"},{name:"Trombone"},{name:"Tuba"},{name:"Muted Trumpet"},{name:"French Horn"},{name:"Brass Section"},{name:"SynthBrass 1"},{name:"SynthBrass 2"},{name:"Soprano Sax"},{name:"Alto Sax"},{name:"Tenor Sax"},{name:"Baritone Sax"},{name:"Oboe"},{name:"English Horn"},{name:"Bassoon"},{name:"Clarinet"},{name:"Piccolo"},{name:"Flute"},{name:"Recorder"},{name:"Pan Flute"},{name:"Blown Bottle"},{name:"Shakuhachi"},{name:"Whistle"},{name:"Ocarina"},{name:"Lead 1 (square)"},{name:"Lead 2 (sawtooth)"},{name:"Lead 3 (calliope)"},{name:"Lead 4 (chiff)"},{name:"Lead 5 (charang)"},{name:"Lead 6 (voice)"},{name:"Lead 7 (fifths)"},{name:"Lead 8 (bass + lead)"},{name:"Pad 1 (new age)"},{name:"Pad 2 (warm)"},{name:"Pad 3 (polysynth)"},{name:"Pad 4 (choir)"},{name:"Pad 5 (bowed)"},{name:"Pad 6 (metallic)"},{name:"Pad 7 (halo)"},{name:"Pad 8 (sweep)"},{name:"FX 1 (rain)"},{name:"FX 2 (soundtrack)"},{name:"FX 3 (crystal)"},{name:"FX 4 (atmosphere)"},{name:"FX 5 (brightness)"},{name:"FX 6 (goblins)"},{name:"FX 7 (echoes)"},{name:"FX 8 (sci-fi)"},{name:"Sitar"},{name:"Banjo"},{name:"Shamisen"},{name:"Koto"},{name:"Kalimba"},{name:"Bag pipe"},{name:"Fiddle"},{name:"Shanai"},{name:"Tinkle Bell"},{name:"Agogo"},{name:"Steel Drums"},{name:"Woodblock"},{name:"Taiko Drum"},{name:"Melodic Tom"},{name:"Synth Drum"},{name:"Reverse Cymbal"},{name:"Guitar Fret Noise"},{name:"Breath Noise"},{name:"Seashore"},{name:"Bird Tweet"},{name:"Telephone Ring"},{name:"Helicopter"},{name:"Applause"},{name:"Gunshot"}],s=[{name:"Acoustic Bass Drum"},{name:"Bass Drum 1"},{name:"Side Stick"},{name:"Acoustic Snare"},{name:"Hand Clap"},{name:"Electric Snare"},{name:"Low Floor Tom"},{name:"Closed Hi Hat"},{name:"High Floor Tom"},{name:"Pedal Hi-Hat"},{name:"Low Tom"},{name:"Open Hi-Hat"},{name:"Low-Mid Tom"},{name:"Hi-Mid Tom"},{name:"Crash Cymbal 1"},{name:"High Tom"},{name:"Ride Cymbal 1"},{name:"Chinese Cymbal"},{name:"Ride Bell"},{name:"Tambourine"},{name:"Splash Cymbal"},{name:"Cowbell"},{name:"Crash Cymbal 2"},{name:"Vibraslap"},{name:"Ride Cymbal 2"},{name:"Hi Bongo"},{name:"Low Bongo"},{name:"Mute Hi Conga"},{name:"Open Hi Conga"},{name:"Low Conga"},{name:"High Timbale"},{name:"Low Timbale"},{name:"High Agogo"},{name:"Low Agogo"},{name:"Cabasa"},{name:"Maracas"},{name:"Short Whistle"},{name:"Long Whistle"},{name:"Short Guiro"},{name:"Long Guiro"},{name:"Claves"},{name:"Hi Wood Block"},{name:"Low Wood Block"},{name:"Mute Cuica"},{name:"Open Cuica"},{name:"Mute Triangle"},{name:"Open Triangle"}],i=[[{w:"sine",v:.4,d:.7,r:.1},{w:"triangle",v:3,d:.7,s:.1,g:1,a:.01,k:-1.2}],[{w:"triangle",v:.4,d:.7,r:.1},{w:"triangle",v:4,t:3,d:.4,s:.1,g:1,k:-1,a:.01}],[{w:"sine",d:.7,r:.1},{w:"triangle",v:4,f:2,d:.5,s:.5,g:1,k:-1}],[{w:"sine",d:.7,v:.2},{w:"triangle",v:4,t:3,f:2,d:.3,g:1,k:-1,a:.01,s:.5}],[{w:"sine",v:.35,d:.7},{w:"sine",v:3,t:7,f:1,d:1,s:1,g:1,k:-.7}],[{w:"sine",v:.35,d:.7},{w:"sine",v:8,t:7,f:1,d:.5,s:1,g:1,k:-.7}],[{w:"sawtooth",v:.34,d:2},{w:"sine",v:8,f:.1,d:2,s:1,r:2,g:1}],[{w:"triangle",v:.34,d:1.5},{w:"square",v:6,f:.1,d:1.5,s:.5,r:2,g:1}],[{w:"sine",d:.3,r:.3},{w:"sine",v:7,t:11,d:.03,g:1}],[{w:"sine",d:.3,r:.3},{w:"sine",v:11,t:6,d:.2,s:.4,g:1}],[{w:"sine",v:.2,d:.3,r:.3},{w:"sine",v:11,t:5,d:.1,s:.4,g:1}],[{w:"sine",v:.2,d:.6,r:.6},{w:"triangle",v:11,t:5,f:1,s:.5,g:1}],[{w:"sine",v:.3,d:.2,r:.2},{w:"sine",v:6,t:5,d:.02,g:1}],[{w:"sine",v:.3,d:.2,r:.2},{w:"sine",v:7,t:11,d:.03,g:1}],[{w:"sine",v:.2,d:1,r:1},{w:"sine",v:11,t:3.5,d:1,r:1,g:1}],[{w:"triangle",v:.2,d:.5,r:.2},{w:"sine",v:6,t:2.5,d:.2,s:.1,r:.2,g:1}],[{w:"w9999",v:.22,s:.9},{w:"w9999",v:.22,t:2,f:2,s:.9}],[{w:"w9999",v:.2,s:1},{w:"sine",v:11,t:6,f:2,s:.1,g:1,h:.006,r:.002,d:.002},{w:"w9999",v:.2,t:2,f:1,h:0,s:1}],[{w:"w9999",v:.2,d:.1,s:.9},{w:"w9999",v:.25,t:4,f:2,s:.5}],[{w:"w9999",v:.3,a:.04,s:.9},{w:"w9999",v:.2,t:8,f:2,a:.04,s:.9}],[{w:"sine",v:.2,a:.02,d:.05,s:1},{w:"sine",v:6,t:3,f:1,a:.02,d:.05,s:1,g:1}],[{w:"triangle",v:.2,a:.02,d:.05,s:.8},{w:"square",v:7,t:3,f:1,d:.05,s:1.5,g:1}],[{w:"square",v:.2,a:.02,d:.2,s:.5},{w:"square",v:1,d:.03,s:2,g:1}],[{w:"square",v:.2,a:.02,d:.1,s:.8},{w:"square",v:1,a:.3,d:.1,s:2,g:1}],[{w:"sine",v:.3,d:.5,f:1},{w:"triangle",v:5,t:3,f:-1,d:1,s:.1,g:1}],[{w:"sine",v:.4,d:.6,f:1},{w:"triangle",v:12,t:3,d:.6,s:.1,g:1,f:-1}],[{w:"triangle",v:.3,d:1,f:1},{w:"triangle",v:6,f:-1,d:.4,s:.5,g:1,t:3}],[{w:"sine",v:.3,d:1,f:-1},{w:"triangle",v:11,f:1,d:.4,s:.5,g:1,t:3}],[{w:"sine",v:.4,d:.1,r:.01},{w:"sine",v:7,g:1}],[{w:"triangle",v:.4,d:1,f:1},{w:"square",v:4,f:-1,d:1,s:.7,g:1}],[{w:"triangle",v:.35,d:1,f:1},{w:"square",v:7,f:-1,d:.3,s:.5,g:1}],[{w:"sine",v:.2,t:1.5,a:.005,h:.2,d:.6},{w:"sine",v:11,t:5,f:2,d:1,s:.5,g:1}],[{w:"sine",d:.3},{w:"sine",v:4,t:3,d:1,s:1,g:1}],[{w:"sine",d:.3},{w:"sine",v:4,t:3,d:1,s:1,g:1}],[{w:"w9999",d:.3,v:.7,s:.5},{w:"sawtooth",v:1.2,d:.02,s:.5,g:1,h:0,r:.02}],[{w:"sine",d:.3},{w:"sine",v:4,t:3,d:1,s:1,g:1}],[{w:"triangle",v:.3,t:2,d:1},{w:"triangle",v:15,t:2.5,d:.04,s:.1,g:1}],[{w:"triangle",v:.3,t:2,d:1},{w:"triangle",v:15,t:2.5,d:.04,s:.1,g:1}],[{w:"triangle",d:.7},{w:"square",v:.4,t:.5,f:1,d:.2,s:10,g:1}],[{w:"triangle",d:.7},{w:"square",v:.4,t:.5,f:1,d:.2,s:10,g:1}],[{w:"sawtooth",v:.4,a:.1,d:11},{w:"sine",v:5,d:11,s:.2,g:1}],[{w:"sawtooth",v:.4,a:.1,d:11},{w:"sine",v:5,d:11,s:.2,g:1}],[{w:"sawtooth",v:.4,a:.1,d:11},{w:"sine",v:5,t:.5,d:11,s:.2,g:1}],[{w:"sawtooth",v:.4,a:.1,d:11},{w:"sine",v:5,t:.5,d:11,s:.2,g:1}],[{w:"sine",v:.4,a:.1,d:11},{w:"sine",v:6,f:2.5,d:.05,s:1.1,g:1}],[{w:"sine",v:.3,d:.1,r:.1},{w:"square",v:4,t:3,d:1,s:.2,g:1}],[{w:"sine",v:.3,d:.5,r:.5},{w:"sine",v:7,t:2,f:2,d:1,r:1,g:1}],[{w:"triangle",v:.6,h:.03,d:.3,r:.3,t:.5},{w:"n0",v:8,t:1.5,d:.08,r:.08,g:1}],[{w:"sawtooth",v:.3,a:.03,s:.5},{w:"sawtooth",v:.2,t:2,f:2,d:1,s:2}],[{w:"sawtooth",v:.3,f:-2,a:.03,s:.5},{w:"sawtooth",v:.2,t:2,f:2,d:1,s:2}],[{w:"sawtooth",v:.2,a:.02,s:1},{w:"sawtooth",v:.2,t:2,f:2,a:1,d:1,s:1}],[{w:"sawtooth",v:.2,a:.02,s:1},{w:"sawtooth",v:.2,f:2,a:.02,d:1,s:1}],[{w:"triangle",v:.3,a:.03,s:1},{w:"sine",v:3,t:5,f:1,d:1,s:1,g:1}],[{w:"sine",v:.4,a:.03,s:.9},{w:"sine",v:1,t:2,f:3,d:.03,s:.2,g:1}],[{w:"triangle",v:.6,a:.05,s:.5},{w:"sine",v:1,f:.8,d:.2,s:.2,g:1}],[{w:"square",v:.15,a:.01,d:.2,r:.2,t:.5,h:.03},{w:"square",v:4,f:.5,d:.2,r:11,a:.01,g:1,h:.02},{w:"square",v:.15,t:4,f:1,a:.02,d:.15,r:.15,h:.03},{g:3,w:"square",v:4,f:-.5,a:.01,h:.02,d:.15,r:11}],[{w:"square",v:.2,a:.01,d:1,s:.6,r:.04},{w:"sine",v:1,d:.1,s:4,g:1}],[{w:"square",v:.2,a:.02,d:1,s:.5,r:.08},{w:"sine",v:1,d:.1,s:4,g:1}],[{w:"square",v:.2,a:.04,d:1,s:.4,r:.08},{w:"sine",v:1,d:.1,s:4,g:1}],[{w:"square",v:.15,a:.04,s:1},{w:"sine",v:2,d:.1,g:1}],[{w:"square",v:.2,a:.02,d:1,s:.5,r:.08},{w:"sine",v:1,d:.1,s:4,g:1}],[{w:"square",v:.2,a:.02,d:1,s:.6,r:.08},{w:"sine",v:1,f:.2,d:.1,s:4,g:1}],[{w:"square",v:.2,a:.02,d:.5,s:.7,r:.08},{w:"sine",v:1,d:.1,s:4,g:1}],[{w:"square",v:.2,a:.02,d:1,s:.5,r:.08},{w:"sine",v:1,d:.1,s:4,g:1}],[{w:"square",v:.2,a:.02,d:2,s:.6},{w:"sine",v:2,d:1,g:1}],[{w:"square",v:.2,a:.02,d:2,s:.6},{w:"sine",v:2,d:1,g:1}],[{w:"square",v:.2,a:.02,d:1,s:.6},{w:"sine",v:2,d:1,g:1}],[{w:"square",v:.2,a:.02,d:1,s:.6},{w:"sine",v:2,d:1,g:1}],[{w:"sine",v:.4,a:.02,d:.7,s:.5},{w:"square",v:5,t:2,d:.2,s:.5,g:1}],[{w:"sine",v:.3,a:.05,d:.2,s:.8},{w:"sawtooth",v:6,f:.1,d:.1,s:.3,g:1}],[{w:"sine",v:.3,a:.03,d:.2,s:.4},{w:"square",v:7,f:.2,d:1,s:.1,g:1}],[{w:"square",v:.2,a:.05,d:.1,s:.8},{w:"square",v:4,d:.1,s:1.1,g:1}],[{w:"sine",a:.02,d:2},{w:"sine",v:6,t:2,d:.04,g:1}],[{w:"sine",v:.7,a:.03,d:.4,s:.4},{w:"sine",v:4,t:2,f:.2,d:.4,g:1}],[{w:"sine",v:.7,a:.02,d:.4,s:.6},{w:"sine",v:3,t:2,d:0,s:1,g:1}],[{w:"sine",v:.4,a:.06,d:.3,s:.3},{w:"sine",v:7,t:2,d:.2,s:.2,g:1}],[{w:"sine",a:.02,d:.3,s:.3},{w:"sawtooth",v:3,t:2,d:.3,g:1}],[{w:"sine",v:.4,a:.02,d:2,s:.1},{w:"sawtooth",v:8,t:2,f:1,d:.5,g:1}],[{w:"sine",v:.7,a:.03,d:.5,s:.3},{w:"sine",v:.003,t:0,f:4,d:.1,s:.002,g:1}],[{w:"sine",v:.7,a:.02,d:2},{w:"sine",v:1,t:2,f:1,d:.02,g:1}],[{w:"square",v:.3,d:1,s:.5},{w:"square",v:1,f:.2,d:1,s:.5,g:1}],[{w:"sawtooth",v:.3,d:2,s:.5},{w:"square",v:2,f:.1,s:.5,g:1}],[{w:"triangle",v:.5,a:.05,d:2,s:.6},{w:"sine",v:4,t:2,g:1}],[{w:"triangle",v:.3,a:.01,d:2,s:.3},{w:"sine",v:22,t:2,f:1,d:.03,s:.2,g:1}],[{w:"sawtooth",v:.3,d:1,s:.5},{w:"sine",v:11,t:11,a:.2,d:.05,s:.3,g:1}],[{w:"sine",v:.3,a:.06,d:1,s:.5},{w:"sine",v:7,f:1,d:1,s:.2,g:1}],[{w:"sawtooth",v:.3,a:.03,d:.7,s:.3,r:.2},{w:"sawtooth",v:.3,t:.75,d:.7,a:.1,s:.3,r:.2}],[{w:"triangle",v:.3,a:.01,d:.7,s:.5},{w:"square",v:5,t:.5,d:.7,s:.5,g:1}],[{w:"triangle",v:.3,a:.02,d:.3,s:.3,r:.3},{w:"square",v:3,t:4,f:1,a:.02,d:.1,s:1,g:1},{w:"triangle",v:.08,t:.5,a:.1,h:0,d:.1,s:.5,r:.1,b:0,c:0}],[{w:"sine",v:.3,a:.05,d:1,s:.7,r:.3},{w:"sine",v:2,f:1,d:.3,s:1,g:1}],[{w:"square",v:.3,a:.03,d:.5,s:.3,r:.1},{w:"square",v:4,f:1,a:.03,d:.1,g:1}],[{w:"triangle",v:.3,a:.08,d:1,s:.3,r:.1},{w:"square",v:2,f:1,d:.3,s:.3,g:1,t:4,a:.08}],[{w:"sine",v:.3,a:.05,d:1,s:.3,r:.1},{w:"sine",v:.1,t:2.001,f:1,d:1,s:50,g:1}],[{w:"triangle",v:.3,a:.03,d:.7,s:.3,r:.2},{w:"sine",v:12,t:7,f:1,d:.5,s:1.7,g:1}],[{w:"sine",v:.3,a:.05,d:1,s:.3,r:.1},{w:"sawtooth",v:22,t:6,d:.06,s:.3,g:1}],[{w:"triangle",v:.3,a:.05,d:11,r:.3},{w:"triangle",v:1,d:1,s:8,g:1}],[{w:"sawtooth",v:.3,d:4,s:.8,r:.1},{w:"square",v:1,t:2,f:8,a:1,d:1,s:1,r:.1,g:1}],[{w:"triangle",v:.3,d:1,s:.5,t:.8,a:.2,p:1.25,q:.2},{w:"sawtooth",v:.2,a:.2,d:.3,s:1,t:1.2,p:1.25,q:.2}],[{w:"sine",v:.3,d:1,s:.3},{w:"square",v:22,t:11,d:.5,s:.1,g:1}],[{w:"sawtooth",v:.3,a:.04,d:1,s:.8,r:.1},{w:"square",v:1,t:.5,d:1,s:2,g:1}],[{w:"triangle",v:.3,d:1,s:.3},{w:"sine",v:22,t:6,d:.6,s:.05,g:1}],[{w:"sine",v:.6,a:.1,d:.05,s:.4},{w:"sine",v:5,t:5,f:1,d:.05,s:.3,g:1}],[{w:"sine",a:.1,d:.05,s:.4,v:.8},{w:"sine",v:5,t:5,f:1,d:.05,s:.3,g:1}],[{w:"square",v:.3,a:.1,d:.1,s:.4},{w:"square",v:1,f:1,d:.3,s:.1,g:1}],[{w:"sawtooth",v:.3,d:.5,r:.5},{w:"sawtooth",v:11,t:5,d:.05,g:1}],[{w:"square",v:.3,d:.2,r:.2},{w:"square",v:7,t:3,d:.05,g:1}],[{w:"triangle",d:.2,r:.2},{w:"square",v:9,t:3,d:.1,r:.1,g:1}],[{w:"triangle",d:.3,r:.3},{w:"square",v:6,t:3,d:1,r:1,g:1}],[{w:"triangle",v:.4,d:.2,r:.2},{w:"square",v:22,t:12,d:.1,r:.1,g:1}],[{w:"sine",v:.25,a:.02,d:.05,s:.8},{w:"square",v:1,t:2,d:.03,s:11,g:1}],[{w:"sine",v:.3,a:.05,d:11},{w:"square",v:7,t:3,f:1,s:.7,g:1}],[{w:"square",v:.3,a:.05,d:.1,s:.8},{w:"square",v:4,d:.1,s:1.1,g:1}],[{w:"sine",v:.4,d:.3,r:.3},{w:"sine",v:7,t:9,d:.1,r:.1,g:1}],[{w:"sine",v:.7,d:.1,r:.1},{w:"sine",v:22,t:7,d:.05,g:1}],[{w:"sine",v:.6,d:.15,r:.15},{w:"square",v:11,t:3.2,d:.1,r:.1,g:1}],[{w:"sine",v:.8,d:.07,r:.07},{w:"square",v:11,t:7,r:.01,g:1}],[{w:"triangle",v:.7,t:.5,d:.2,r:.2,p:.95},{w:"n0",v:9,g:1,d:.2,r:.2}],[{w:"sine",v:.7,d:.1,r:.1,p:.9},{w:"square",v:14,t:2,d:.005,r:.005,g:1}],[{w:"square",d:.15,r:.15,p:.5},{w:"square",v:4,t:5,d:.001,r:.001,g:1}],[{w:"n1",v:.3,a:1,s:1,d:.15,r:0,t:.5}],[{w:"sine",t:12.5,d:0,r:0,p:.5,v:.3,h:.2,q:.5},{g:1,w:"sine",v:1,t:2,d:0,r:0,s:1},{g:1,w:"n0",v:.2,t:2,a:.6,h:0,d:.1,r:.1,b:0,c:0}],[{w:"n0",v:.2,a:.05,h:.02,d:.02,r:.02}],[{w:"n0",v:.4,a:1,d:1,t:.25}],[{w:"sine",v:.3,a:.1,d:1,s:.5},{w:"sine",v:4,t:0,f:1.5,d:1,s:1,r:.1,g:1},{g:1,w:"sine",v:4,t:0,f:2,a:.6,h:0,d:.1,s:1,r:.1,b:0,c:0}],[{w:"square",v:.3,t:.25,d:11,s:1},{w:"square",v:12,t:0,f:8,d:1,s:1,r:11,g:1}],[{w:"n0",v:.4,t:.5,a:1,d:11,s:1,r:.5},{w:"square",v:1,t:0,f:14,d:1,s:1,r:11,g:1}],[{w:"sine",t:0,f:1221,a:.2,d:1,r:.25,s:1},{g:1,w:"n0",v:3,t:.5,d:1,s:1,r:1}],[{w:"sine",d:.4,r:.4,p:.1,t:2.5,v:1},{w:"n0",v:12,t:2,d:1,r:1,g:1}]],o=[[{w:"triangle",v:.5,d:.7}],[{w:"triangle",v:.5,d:.7}],[{w:"triangle",v:.5,d:.7}],[{w:"triangle",v:.5,d:.7}],[{w:"triangle",v:.5,d:.7}],[{w:"triangle",v:.5,d:.7}],[{w:"sawtooth",v:.3,d:.7}],[{w:"sawtooth",v:.3,d:.7}],[{w:"sine",v:.5,d:.3,r:.3}],[{w:"triangle",v:.5,d:.3,r:.3}],[{w:"square",v:.2,d:.3,r:.3}],[{w:"square",v:.2,d:.3,r:.3}],[{w:"sine",v:.5,d:.1,r:.1}],[{w:"sine",v:.5,d:.1,r:.1}],[{w:"square",v:.2,d:1,r:1}],[{w:"sawtooth",v:.3,d:.7,r:.7}],[{w:"sine",v:.5,a:.01,s:1}],[{w:"sine",v:.7,d:.02,s:.7}],[{w:"square",v:.2,s:1}],[{w:"triangle",v:.5,a:.01,s:1}],[{w:"square",v:.2,a:.02,s:1}],[{w:"square",v:.2,a:.02,s:1}],[{w:"square",v:.2,a:.02,s:1}],[{w:"square",v:.2,a:.05,s:1}],[{w:"triangle",v:.5,d:.5}],[{w:"square",v:.2,d:.6}],[{w:"square",v:.2,d:.6}],[{w:"triangle",v:.8,d:.6}],[{w:"triangle",v:.4,d:.05}],[{w:"square",v:.2,d:1}],[{w:"square",v:.2,d:1}],[{w:"sine",v:.4,d:.6}],[{w:"triangle",v:.7,d:.4}],[{w:"triangle",v:.7,d:.7}],[{w:"triangle",v:.7,d:.7}],[{w:"triangle",v:.7,d:.7}],[{w:"square",v:.3,d:.2}],[{w:"square",v:.3,d:.2}],[{w:"square",v:.3,d:.1,s:.2}],[{w:"sawtooth",v:.4,d:.1,s:.2}],[{w:"sawtooth",v:.2,a:.02,s:1}],[{w:"sawtooth",v:.2,a:.02,s:1}],[{w:"sawtooth",v:.2,a:.02,s:1}],[{w:"sawtooth",v:.2,a:.02,s:1}],[{w:"sawtooth",v:.2,a:.02,s:1}],[{w:"sawtooth",v:.3,d:.1}],[{w:"sawtooth",v:.3,d:.5,r:.5}],[{w:"triangle",v:.6,d:.1,r:.1,h:.03,p:.8}],[{w:"sawtooth",v:.2,a:.02,s:1}],[{w:"sawtooth",v:.2,a:.02,s:1}],[{w:"sawtooth",v:.2,a:.02,s:1}],[{w:"sawtooth",v:.2,a:.02,s:1}],[{w:"triangle",v:.3,a:.03,s:1}],[{w:"sine",v:.3,a:.03,s:1}],[{w:"triangle",v:.3,a:.05,s:1}],[{w:"sawtooth",v:.5,a:.01,d:.1}],[{w:"square",v:.3,a:.05,d:.2,s:.6}],[{w:"square",v:.3,a:.05,d:.2,s:.6}],[{w:"square",v:.3,a:.05,d:.2,s:.6}],[{w:"square",v:.2,a:.05,d:.01,s:1}],[{w:"square",v:.3,a:.05,s:1}],[{w:"square",v:.3,s:.7}],[{w:"square",v:.3,s:.7}],[{w:"square",v:.3,s:.7}],[{w:"square",v:.3,a:.02,d:2}],[{w:"square",v:.3,a:.02,d:2}],[{w:"square",v:.3,a:.03,d:2}],[{w:"square",v:.3,a:.04,d:2}],[{w:"square",v:.3,a:.02,d:2}],[{w:"square",v:.3,a:.05,d:2}],[{w:"square",v:.3,a:.03,d:2}],[{w:"square",v:.3,a:.03,d:2}],[{w:"sine",v:.7,a:.02,d:2}],[{w:"sine",v:.7,a:.02,d:2}],[{w:"sine",v:.7,a:.02,d:2}],[{w:"sine",v:.7,a:.02,d:2}],[{w:"sine",v:.7,a:.02,d:2}],[{w:"sine",v:.7,a:.02,d:2}],[{w:"sine",v:.7,a:.02,d:2}],[{w:"sine",v:.7,a:.02,d:2}],[{w:"square",v:.3,s:.7}],[{w:"sawtooth",v:.4,s:.7}],[{w:"triangle",v:.5,s:.7}],[{w:"sawtooth",v:.4,s:.7}],[{w:"sawtooth",v:.4,d:12}],[{w:"sine",v:.4,a:.06,d:12}],[{w:"sawtooth",v:.4,d:12}],[{w:"sawtooth",v:.4,d:12}],[{w:"sawtooth",v:.3,d:12}],[{w:"triangle",v:.5,d:12}],[{w:"square",v:.3,d:12}],[{w:"triangle",v:.5,a:.08,d:11}],[{w:"sawtooth",v:.5,a:.05,d:11}],[{w:"sawtooth",v:.5,d:11}],[{w:"triangle",v:.5,d:11}],[{w:"triangle",v:.5,d:11}],[{w:"triangle",v:.5,d:11}],[{w:"triangle",v:.5,d:11}],[{w:"square",v:.3,d:11}],[{w:"sawtooth",v:.5,a:.04,d:11}],[{w:"sawtooth",v:.5,d:11}],[{w:"triangle",v:.5,a:.8,d:11}],[{w:"triangle",v:.5,d:11}],[{w:"square",v:.3,d:11}],[{w:"sawtooth",v:.3,d:1,r:1}],[{w:"sawtooth",v:.5,d:.3}],[{w:"sawtooth",v:.5,d:.3,r:.3}],[{w:"sawtooth",v:.5,d:.3,r:.3}],[{w:"square",v:.3,d:.2,r:.2}],[{w:"square",v:.3,a:.02,d:2}],[{w:"sawtooth",v:.2,a:.02,d:.7}],[{w:"triangle",v:.5,d:1}],[{w:"sawtooth",v:.3,d:.3,r:.3}],[{w:"sine",v:.8,d:.1,r:.1}],[{w:"square",v:.2,d:.1,r:.1,p:1.05}],[{w:"sine",v:.8,d:.05,r:.05}],[{w:"triangle",v:.5,d:.1,r:.1,p:.96}],[{w:"triangle",v:.5,d:.1,r:.1,p:.97}],[{w:"square",v:.3,d:.1,r:.1}],[{w:"n1",v:.3,a:1,s:1,d:.15,r:0,t:.5}],[{w:"triangle",v:.5,d:.03,t:0,f:1332,r:.001,p:1.1}],[{w:"n0",v:.2,t:.1,d:.02,a:.05,h:.02,r:.02}],[{w:"n0",v:.4,a:1,d:1,t:.25}],[{w:"sine",v:.3,a:.8,d:1,t:0,f:1832}],[{w:"triangle",d:.5,t:0,f:444,s:1}],[{w:"n0",v:.4,d:1,t:0,f:22,s:1}],[{w:"n0",v:.5,a:.2,d:11,t:0,f:44}],[{w:"n0",v:.5,t:.25,d:.4,r:.4}]],v=[[{w:"triangle",t:0,f:70,v:1,d:.05,h:.03,p:.9,q:.1},{w:"n0",g:1,t:6,v:17,r:.01,h:0,p:0}],[{w:"triangle",t:0,f:88,v:1,d:.05,h:.03,p:.5,q:.1},{w:"n0",g:1,t:5,v:42,r:.01,h:0,p:0}],[{w:"n0",f:222,p:0,t:0,r:.01,h:0}],[{w:"triangle",v:.3,f:180,d:.05,t:0,h:.03,p:.9,q:.1},{w:"n0",v:.6,t:0,f:70,h:.02,r:.01,p:0},{g:1,w:"square",v:2,t:0,f:360,r:.01,b:0,c:0}],[{w:"square",f:1150,v:.34,t:0,r:.03,h:.025,d:.03},{g:1,w:"n0",t:0,f:13,h:.025,d:.1,s:1,r:.1,v:1}],[{w:"triangle",f:200,v:1,d:.06,t:0,r:.06},{w:"n0",g:1,t:0,f:400,v:12,r:.02,d:.02}],[{w:"triangle",f:100,v:.9,d:.12,h:.02,p:.5,t:0,r:.12},{g:1,w:"n0",v:5,t:.4,h:.015,d:.005,r:.005}],[{w:"n1",f:390,v:.25,r:.01,t:0}],[{w:"triangle",f:120,v:.9,d:.12,h:.02,p:.5,t:0,r:.12},{g:1,w:"n0",v:5,t:.5,h:.015,d:.005,r:.005}],[{w:"n1",v:.25,f:390,r:.03,t:0,h:.005,d:.03}],[{w:"triangle",f:140,v:.9,d:.12,h:.02,p:.5,t:0,r:.12},{g:1,w:"n0",v:5,t:.3,h:.015,d:.005,r:.005}],[{w:"n1",v:.25,f:390,t:0,d:.2,r:.2},{w:"n0",v:.3,t:0,c:0,f:440,h:.005,d:.05}],[{w:"triangle",f:155,v:.9,d:.12,h:.02,p:.5,t:0,r:.12},{g:1,w:"n0",v:5,t:.3,h:.015,d:.005,r:.005}],[{w:"triangle",f:180,v:.9,d:.12,h:.02,p:.5,t:0,r:.12},{g:1,w:"n0",v:5,t:.3,h:.015,d:.005,r:.005}],[{w:"n1",v:.3,f:1200,d:.2,r:.2,h:.05,t:0},{w:"n1",t:0,v:1,d:.1,r:.1,p:1.2,f:440}],[{w:"triangle",f:220,v:.9,d:.12,h:.02,p:.5,t:0,r:.12},{g:1,w:"n0",v:5,t:.3,h:.015,d:.005,r:.005}],[{w:"n1",f:500,v:.15,d:.4,r:.4,h:0,t:0},{w:"n0",v:.1,t:0,r:.01,f:440}],[{w:"n1",v:.3,f:800,d:.2,r:.2,h:.05,t:0},{w:"square",t:0,v:1,d:.1,r:.1,p:.1,f:220,g:1}],[{w:"sine",f:1651,v:.15,d:.2,r:.2,h:0,t:0},{w:"sawtooth",g:1,t:1.21,v:7.2,d:.1,r:11,h:1},{g:1,w:"n0",v:3.1,t:.152,d:.002,r:.002}],null,[{w:"n1",v:.3,f:1200,d:.2,r:.2,h:.05,t:0},{w:"n1",t:0,v:1,d:.1,r:.1,p:1.2,f:440}],null,[{w:"n1",v:.3,f:555,d:.25,r:.25,h:.05,t:0},{w:"n1",t:0,v:1,d:.1,r:.1,f:440,a:.005,h:.02}],[{w:"sawtooth",f:776,v:.2,d:.3,t:0,r:.3},{g:1,w:"n0",v:2,t:0,f:776,a:.005,h:.02,d:.1,s:1,r:.1,c:0},{g:11,w:"sine",v:.1,t:0,f:22,d:.3,r:.3,b:0,c:0}],[{w:"n1",f:440,v:.15,d:.4,r:.4,h:0,t:0},{w:"n0",v:.4,t:0,r:.01,f:440}],null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,[{w:"sine",f:1720,v:.3,d:.02,t:0,r:.02},{w:"square",g:1,t:0,f:2876,v:6,d:.2,s:1,r:.2}],[{w:"sine",f:1720,v:.3,d:.25,t:0,r:.25},{w:"square",g:1,t:0,f:2876,v:6,d:.2,s:1,r:.2}]],d=[[{w:"triangle",t:0,f:110,v:1,d:.05,h:.02,p:.1}],[{w:"triangle",t:0,f:150,v:.8,d:.1,p:.1,h:.02,r:.01}],[{w:"n0",f:392,v:.5,d:.01,p:0,t:0,r:.05}],[{w:"n0",f:33,d:.05,t:0}],[{w:"n0",f:100,v:.7,d:.03,t:0,r:.03,h:.02}],[{w:"n0",f:44,v:.7,d:.02,p:.1,t:0,h:.02}],[{w:"triangle",f:240,v:.9,d:.1,h:.02,p:.1,t:0}],[{w:"n0",f:440,v:.2,r:.01,t:0}],[{w:"triangle",f:270,v:.9,d:.1,h:.02,p:.1,t:0}],[{w:"n0",f:440,v:.2,d:.04,r:.04,t:0}],[{w:"triangle",f:300,v:.9,d:.1,h:.02,p:.1,t:0}],[{w:"n0",f:440,v:.2,d:.1,r:.1,h:.02,t:0}],[{w:"triangle",f:320,v:.9,d:.1,h:.02,p:.1,t:0}],[{w:"triangle",f:360,v:.9,d:.1,h:.02,p:.1,t:0}],[{w:"n0",f:150,v:.2,d:.1,r:.1,h:.05,t:0,p:.1}],[{w:"triangle",f:400,v:.9,d:.1,h:.02,p:.1,t:0}],[{w:"n0",f:150,v:.2,d:.1,r:.01,h:.05,t:0,p:.1}],[{w:"n0",f:150,v:.2,d:.1,r:.01,h:.05,t:0,p:.1}],[{w:"n0",f:440,v:.3,d:.1,p:.9,t:0,r:.1}],[{w:"n0",f:200,v:.2,d:.05,p:.9,t:0}],[{w:"n0",f:440,v:.3,d:.12,p:.9,t:0}],[{w:"sine",f:800,v:.4,d:.06,t:0}],[{w:"n0",f:150,v:.2,d:.1,r:.01,h:.05,t:0,p:.1}],[{w:"n0",f:33,v:.3,d:.2,p:.9,t:0}],[{w:"n0",f:300,v:.3,d:.14,p:.9,t:0}],[{w:"sine",f:200,d:.06,t:0}],[{w:"sine",f:150,d:.06,t:0}],[{w:"sine",f:300,t:0}],[{w:"sine",f:300,d:.06,t:0}],[{w:"sine",f:250,d:.06,t:0}],[{w:"square",f:300,v:.3,d:.06,p:.8,t:0}],[{w:"square",f:260,v:.3,d:.06,p:.8,t:0}],[{w:"sine",f:850,v:.5,d:.07,t:0}],[{w:"sine",f:790,v:.5,d:.07,t:0}],[{w:"n0",f:440,v:.3,a:.05,t:0}],[{w:"n0",f:440,v:.3,a:.05,t:0}],[{w:"triangle",f:1800,v:.4,p:.9,t:0,h:.03}],[{w:"triangle",f:1800,v:.3,p:.9,t:0,h:.13}],[{w:"n0",f:330,v:.3,a:.02,t:0,r:.01}],[{w:"n0",f:330,v:.3,a:.02,t:0,h:.04,r:.01}],[{w:"n0",f:440,v:.3,t:0}],[{w:"sine",f:800,t:0}],[{w:"sine",f:700,t:0}],[{w:"n0",f:330,v:.3,t:0}],[{w:"n0",f:330,v:.3,t:0,h:.1,r:.01,p:.7}],[{w:"sine",t:0,f:1200,v:.3,r:.01}],[{w:"sine",t:0,f:1200,v:.3,d:.2,r:.2}]]},function(e){e.exports=JSON.parse('{"name":"wasgen","version":"0.14.0","description":"Web Audio Sound Generator","main":"src/index.js","files":["/src"],"scripts":{"start":"cd demo && webpack-dev-server","build":"cd demo && webpack -p"},"author":"andy@fenomas.com","license":"ISC","dependencies":{"param-enveloper":"^0.2.0"},"devDependencies":{"webaudio-viz":"0.2.0"}}')},function(e,t,a){(function(e){!function e(t,a,n){function r(i,o){if(!a[i]){if(!t[i]){if(s)return s(i,!0);var v=new Error("Cannot find module '"+i+"'");throw v.code="MODULE_NOT_FOUND",v}var d=a[i]={exports:{}};t[i][0].call(d.exports,(function(e){var a=t[i][1][e];return r(a||e)}),d,d.exports,e,t,a,n)}return a[i].exports}for(var s=!1,i=0;i<n.length;i++)r(n[i]);return r}({1:[function(t,a,n){(function(e){"use strict";if(e.AnalyserNode&&!e.AnalyserNode.prototype.getFloatTimeDomainData){var t=new Uint8Array(2048);e.AnalyserNode.prototype.getFloatTimeDomainData=function(e){this.getByteTimeDomainData(t);for(var a=0,n=e.length;a<n;a++)e[a]=.0078125*(t[a]-128)}}}).call(this,void 0!==e?e:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}]},{},[1])}).call(this,a(7))},function(e,t){var a;a=function(){return this}();try{a=a||new Function("return this")()}catch(e){"object"==typeof window&&(a=window)}e.exports=a},function(e,t,a){"use strict";a.r(t);var n=a(0);a(1),a(2);a(6);function r(e){if(0===e)return"#000";var t=Math.round(130*e-80),a=Math.round(20+50*e);return e>.99&&(a+=30),`hsl(${t},100%,${a}%)`}var s=null;var i=null;var o=[30,40,50,80,100,105,110,150,160],v=o.map(e=>0);function d(e,t,a){for(var n=0,r=t;r<a;r++)if(e[r]<0&&n++,e[r]>0&&n>5)return r;return-1}var u=null;var w="",l=!1,c=document.querySelector("#viz"),f=document.querySelector("#vizLabel"),h=new class{constructor(e,t,a,n,r){if(this.paused=!1,this.mode=r||0,this.minDb=-96,this.maxDb=-15,this.minFreq=150,this.maxFreq=15e3,this._ctx=e,this._canvasCtx=t.getContext("2d"),this._analyser=e.createAnalyser(),this._input=null,this._lastMode=-1,this.setInput(a),(n=n||30)>=60){var s=()=>{this.render(),requestAnimationFrame(s)};requestAnimationFrame(s)}else setInterval(()=>this.render(),1e3/n)}setInput(e){this._input&&this._input.disconnect(this._analyser),e.connect(this._analyser),this._input=e}render(){(function(e){var t=e._ctx.state;w||(w=t);if(t===w)return;w=t,"suspended"===t&&(l=!0);if("running"===t&&l)return e._input.disconnect(e._analyser),e._analyser=e._ctx.createAnalyser(),e._input.connect(e._analyser),l=!1,!0})(this)||this.paused||"running"===this._ctx.state&&(0===this.mode&&function(e){var t=e._analyser,a=e._canvasCtx;t.fftSize=1024;var n=t.frequencyBinCount;s||(s=new Uint8Array(n));t.getByteFrequencyData(s);var i=s;e.clear();for(var o=a.canvas.width,v=a.canvas.height,d=Math.log2(e.maxFreq),u=Math.log2(e.minFreq),w=e._ctx.sampleRate/2,l=t.frequencyBinCount,c=0;c<o;c++){var f=c/(o-1),h=Math.pow(2,u+f*(d-u)),m=Math.round(h/w*l),g=i[m]/255,p=g*v;a.fillStyle=r(g),a.fillRect(c,v-p,1,p)}}(this),1===this.mode&&function(e){var t=e._analyser,a=e._canvasCtx;t.fftSize=4096,t.minDecibels=e.minDb,t.maxDecibels=e.maxDb;var n=t.frequencyBinCount;i||(i=new Float32Array(n));t.getFloatTimeDomainData(i);var s=i;e.clear();var u=a.canvas.width,w=a.canvas.height,l=function(e){var t=[],a=0;for(;t.length<8&&a>=0;)(a=d(e,a,e.length/2))>0&&t.push(a);if(t.length<2)return t[0]||0;a=0;var n=999999.9;return t.forEach(t=>{var r=function(e,t){return o.reduce((a,n,r)=>{var s=t[e+n];return a+Math.abs(s-v[r])},0)}(t,e);r>n||(n=.95*r-1,a=t)}),v=o.map(t=>e[t+a]),a}(s);a.lineWidth=2,a.beginPath(),a.moveTo(0,w/2);for(var c=n/2,f=0,h=0;h<c;h++){var m=h+l,g=m<n?i[m]:0;g>f&&(f=g);var p=u*h/c,q=w*(.5*(g+1));a.lineTo(p,w-q)}a.strokeStyle=r(Math.max(.2,f)),a.stroke()}(this),2===this.mode&&function(e,t){var a=e._analyser,n=e._canvasCtx;a.fftSize=1024,a.smoothingTimeConstant=.3,a.minDecibels=e.minDb,a.maxDecibels=e.maxDb;var s=a.frequencyBinCount;u||(u=new Uint8Array(s));a.getByteFrequencyData(u);var i=u,o=n.canvas.width,v=n.canvas.height;t?(n.fillStyle=r(0),n.fillRect(0,0,o,v)):n.drawImage(n.canvas,-1,0,o,v);for(var d=Math.log2(e.maxFreq),w=Math.log2(e.minFreq),l=e._ctx.sampleRate/2,c=a.frequencyBinCount,f=0;f<v;f++){var h=(v-1-f)/(v-1),m=Math.pow(2,w+h*(d-w)),g=Math.round(m/l*c),p=i[g]/255;n.fillStyle=r(p),n.fillRect(o-1,f,1,1)}}(this,this.mode!==this._lastMode),this._lastMode=this.mode)}clear(e){var t=this._canvasCtx.canvas.width,a=this._canvasCtx.canvas.height;this._canvasCtx.fillStyle=e||r(0),this._canvasCtx.fillRect(0,0,t,a)}}(n.c,c,n.a,20,0);h.paused=!0,h.clear("#FFF");var m=0;c.addEventListener("click",e=>{m=(m+1)%4,h.mode=m-1,h.paused=0===m,0===m&&h.clear("#FFF"),f.style.visibility=0===m?"":"hidden"}),document.querySelector("#benchmark").addEventListener("click",e=>{var t=Object(n.d)(),a=(e,t)=>e+(t-e)*Math.random(),r=function(){return arguments[Math.floor(a(0,arguments.length))]},s=64;/(mobile|android|iOS)/i.test(navigator.userAgent)&&(s=16),t.maxVoices(s);for(var i=0;i<s;i++){var o={type:r("sine","sq","tri","w99","w999","n0","n1","np","nb"),freq:[],gain:[]};r(0,1)&&o.freq.push({p:1.1,q:.2}),r(0,1)&&o.gain.push({a:.1,s:.4,r:a(.1,.4)}),r(0,1)&&o.freq.push({type:"sine",freq:a(5,10),gain:.1});var v=[o];r(0,1)&&v.push({type:r("lowpass","highpass"),freq:{t:a(.5,2)},Q:a(1,5)});var d=65+30*Math.random()|0,u=440*Math.pow(2,(d-69)/12),w=t.now()+.1+i*(1/s),l=w+.5+1.5+Math.random();t.play(v,u,.25,w,l)}})}]);